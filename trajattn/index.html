<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TrajAttn</title>
<link href="./DreamBooth_files/style.css" rel="stylesheet">
<script type="text/javascript" src="./DreamBooth_files/jquery.mlens-1.0.min.js"></script> 
<script type="text/javascript" src="./DreamBooth_files/jquery.js"></script>
</head>

<body>
<div class="content">
  <h1><strong>Trajectory Attention For Fine-grained Video Motion Control</strong></h1>
  <p id="authors"><span><a href="https://natanielruiz.github.io/"></a></span>
              <a href="https://github.com/xizaoqu">Zeqi Xiao<sup>1</sup></a	>
                <a href="https://vicky0522.github.io/Wenqi-Ouyang/">Wenqi Ouyang<sup>1</sup></a	>
              <a href="https://zhouyifan.net/about/">Yifan Zhou<sup>1</sup></a>
              <a href="https://williamyang1991.github.io/">Shuai Yang<sup>2</sup></a>
              <a href="https://scholar.google.com.hk/citations?user=jZH2IPYAAAAJ&hl=en/">Lei Yang<sup>3</sup></a>
              <a href="https://jianlou.github.io/">Jianlou Si<sup>3</sup></a>
              <a href="https://xingangpan.github.io/">Xingang Pan<sup>1</sup></a><br>
    <br>
  <span style="font-size: 24px"><sup>1</sup>S-Lab, Nanyang Technological University, <br> <sup>2</sup>Wangxuan Institute of Computer Technology, Peking University,<br>  <sup>3</sup>Sensetime Research
  </span></p>
  <br>
  <img src="./static/paper/teaser.jpg" class="teaser-gif" style="width:80%;">
  <p style="text-align:center">Yellow boxes indicate reference contents. 
    Green boxes indicate input frames. Blue boxes indicate output frames.</p>
  <h3 style="text-align:center"><em>
    Trajectory attention facilitates various tasks like camera motion control on images and videos, 
    and video editing.</em></h3>
    <font size="+2">
          <p style="text-align: center;">
            <a href="" target="_blank">[Paper]</a> &nbsp;&nbsp
            <a href="" target="_blank">[Code]</a>
          </p>
    </font>
</div>

<div class="content">
  <h1><strong>Methods</strong></h1>
  <img src="./static/paper/main.jpg" class="teaser-gif" style="width:80%;">
  <p style="text-align:center">
    Our method allows for conditioning on trajectories from various sources -- 
    such as camera motion derived from a single image, as shown in this figure. 
    We inject these conditions into the model through trajectory attention, 
    enabling explicit and fine-grained control over the motion in the generated video.</p>
</div>

<div class="content">
  <h1>Comparison</h1>
  <h2>Camera Motion Control On Image</h2>
  <div class="row">
    <div class="col">
      <img src="./static/videos/nvs_single/sea.jpg" class="teaser-gif" style="width:100%;">
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_single/sea_nvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/sea_cameractrl.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/sea_motioni2v.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/sea_ours.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>NVS Solver</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>CameraCtrl</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Motion I2V</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <img src="./static/videos/nvs_single/ride.jpg" class="teaser-gif" style="width:100%;">
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_single/ride_nvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/ride_cameractrl.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/ride_motioni2v.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/ride_ours.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>NVS Solver</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>CameraCtrl</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Motion I2V</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
  </div>
  <h2>Camera Motion Control On Video</h2>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_video/train_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="centered-content">
      <p>Origin Video</p>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_video/train_right_reference.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_right_nvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_right_ours.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_right_ours_wnvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Reference Warp</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>NVS Solver</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours w. NVS Solver</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_video/train_up_reference.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_up_nvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_up_ours.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_up_ours_wnvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Reference Warp</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>NVS Solver</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours w. NVS Solver</p></div>
    </div>
  </div>
  <h2>Video Editing</h2>
  <div class="row">
    <div class="col">
      <video src="./static/videos/video_editing/lemon.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="centered-content">
      <p>Origin Video</p>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <img src="./static/videos/video_editing/lemon_edit.png" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/lemon_i2vedit.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/lemon_anyv2v.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/lemon_edit.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Edited First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>I2VEdit</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>AnyV2V</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <video src="./static/videos/video_editing/surf.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="centered-content">
      <p>Origin Video</p>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <img src="./static/videos/video_editing/surf_edit.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/surf_i2vedit.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/surf_anyv2v.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/video_editing/surf_edit.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Edited First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>I2VEdit</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>AnyV2V</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Ours</p></div>
    </div>
  </div>
</div>

</body>
</html>


<div class="content">
  <h1>Gallery</h1>
  <h2>Camera Motion Control on Image</h2>
  <div class="row">
    <div class="col">
      <img src="./static/videos/nvs_single/sea.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/horizonal_-1.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <img src="./static/videos/nvs_single/dog.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/dog.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <img src="./static/videos/nvs_single/ride.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/horizonal_1.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <img src="./static/videos/nvs_single/cat.png" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/cat.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <img src="./static/videos/nvs_single/dog.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/dog_zoomin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <img src="./static/videos/nvs_single/dog2.jpg" class="teaser-gif" style="width:100%;">
    </div>
    <div class="col">
      <video src="./static/videos/nvs_single/dog2_clockwise.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>First Frame</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
  </div>

  <h2>Camera Motion Control on Video</h2>
  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_video/camel.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/camel_left.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/boat.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/boat_right.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Origin Video</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Origin Video</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <video src="./static/videos/nvs_video/train_davis.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_davis_toright.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
    <div class="col">
      <video src="./static/videos/nvs_video/train_up_ours_wnvs.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="centered-content"><p>Origin Video</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Origin Video</p></div>
    </div>
    <div class="col">
      <div class="centered-content"><p>Camera Motion Control Results</p></div>
    </div>
  </div>

<h2>Video Editing</h2>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/lemon.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <img src="./static/videos/video_editing/lemon_edit2.jpg" class="teaser-gif" style="width:100%;">
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/lemon_edit2.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited First Frame</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited Video</p></div>
  </div>
</div>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/surf.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <img src="./static/videos/video_editing/surf_edit2.jpg" class="teaser-gif" style="width:100%;">
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/surf_edit2.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited First Frame</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited Video</p></div>
  </div>
</div>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/occlusion_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <img src="./static/videos/video_editing/occlusion_edit.png" class="teaser-gif" style="width:100%;">
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/occlusion.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited First Frame</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited Video</p></div>
  </div>
</div>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/gold_fish_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <img src="./static/videos/video_editing/gold_fish_edit.png" class="teaser-gif" style="width:100%;">
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/gold_fish_edit.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited First Frame</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Edited Video</p></div>
  </div>
</div>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/road_car_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/road_car_4x.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/road_car_16x.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/road_car_32x.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Reconstruted with 4x sparse traj.</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Reconstruted with 16x sparse traj.</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Reconstruted with 32x sparse traj.</p></div>
  </div>
</div>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/road_car_origin.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <img src="./static/videos/video_editing/mask_merge.png" class="teaser-gif" style="width:100%;">
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/road_car_region.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="centered-content"><p>Origin Video</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Region Mask</p></div>
  </div>
  <div class="col">
    <div class="centered-content"><p>Region Motion Control</p></div>
  </div>
</div>
<h2>Results on 3D DiT</h2>
<div class="row">
  <div class="col">
    <video src="./static/videos/video_editing/zoomin1.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
  <div class="col">
    <video src="./static/videos/video_editing/zoomin2.mp4" class="teaser-gif" style="width:100%;" autoplay muted loop></video>
  </div>
</div>
</div>
